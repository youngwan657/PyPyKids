{% extends 'list/base.html' %}
{% load static %}

{% block content %}
<section class="bg-dark text-light header-inner p-0 jarallax position-relative" data-jarallax data-speed="0.2"
         data-overlay>
    <img src="{% static 'assets/img/inner-10.jpg' %}" alt="Image" class="jarallax-img opacity-40">
    <div class="container py-0">
        <div class="row my-4 my-md-6" data-aos="fade-up">
            <div class="col-lg-9 col-xl-8">
                <h1><span data-typed-text data-loop="true" data-type-speed="65"
                          data-strings='["Playground"]'></span></h1>
            </div>
        </div>
    </div>
    <div class="divider">
        <img src="{% static 'assets/img/dividers/divider-3.svg' %}" alt="graphical divider" data-inject-svg/>
    </div>
</section>

<div class="container">
    <table class="table">
        <tbody>
        <tr>
            <th scope="row" style="width: 10%">Output:</th>
            <td>{{ stdout|linebreaksbr }}</span></td>
        </tr>
        </tbody>
    </table>
    <div id="editor">{{ code }}</div>
    <form class="text-center " action="/playground/" method="POST">
        {%csrf_token %}
        <textarea name="answer" style="display: none;">{{ code }}</textarea>

        <!-- Send button -->
        <button class="btn btn-secondary btn-block" type="submit">Test</button>
    </form>
    <br/>
</div>

<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/katzenmilch");
    document.getElementById('editor').style.fontSize='18px';
    document.getElementById("editor").style.height = "400px";
    editor.session.setMode("ace/mode/python");

    var textarea = $('textarea[name="answer"]');
    editor.getSession().on("change", function () {
        textarea.val(editor.getSession().getValue());
    });
</script>
{% endblock %}
